<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>llms</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/Favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-4e463049768ec781b502135f06fe4e5c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "Search",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-54HL7T1Z2K"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-54HL7T1Z2K', { 'anonymize_ip': true});
</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./Favicon.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text"><strong>Digital Scholarship &amp; Data Science Topic Guides for Library Professionals</strong></span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./topicguides.html"> 
<span class="menu-text">TOPIC GUIDES</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-additional-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">ADDITIONAL RESOURCES</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-additional-resources">    
        <li>
    <a class="dropdown-item" href="./references.html">
 <span class="dropdown-text"><strong>RECOMMENDED READING LISTS</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./dstp.html">
 <span class="dropdown-text">Start your own local DS Training Programme</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./reports.html">
 <span class="dropdown-text"><strong>SKILLS COMPETENCY FRAMEWORKS &amp; REPORTS</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./training-platforms.html">
 <span class="dropdown-text"><strong>TRAINING PLATFORMS</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./networks.html">
 <span class="dropdown-text"><strong>USEFUL NETWORKS</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-contribute" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">CONTRIBUTE</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-contribute">    
        <li>
    <a class="dropdown-item" href="./contributing.html">
 <span class="dropdown-text"><strong>CONTRIBUTE TO OUR PROJECT</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./guidelines.html">
 <span class="dropdown-text"><strong>AUTHOR GUIDANCE &amp; STYLE GUIDE</strong></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./licensing.html">
 <span class="dropdown-text"><strong>LICENSING &amp; RE-USE</strong></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./project-overview.html"> 
<span class="menu-text">ABOUT</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">CONTACT</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Jump to…</h2>
   
  <ul class="collapse">
  <li><a href="#understanding-large-language-models" id="toc-understanding-large-language-models" class="nav-link active" data-scroll-target="#understanding-large-language-models">Understanding Large Language Models</a>
  <ul class="collapse">
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#relevance-to-the-library-sector-large-language-models-llm-and-chatgpt-uses-in-libraries-today" id="toc-relevance-to-the-library-sector-large-language-models-llm-and-chatgpt-uses-in-libraries-today" class="nav-link" data-scroll-target="#relevance-to-the-library-sector-large-language-models-llm-and-chatgpt-uses-in-libraries-today">Relevance to the Library Sector: Large Language Models (LLM) and ChatGPT Uses in Libraries Today</a></li>
  <li><a href="#hands-on-activity-and-other-self-guided-tutorials" id="toc-hands-on-activity-and-other-self-guided-tutorials" class="nav-link" data-scroll-target="#hands-on-activity-and-other-self-guided-tutorials">Hands-on activity and other self-guided tutorial(s)</a></li>
  <li><a href="#recommended-reading-viewing" id="toc-recommended-reading-viewing" class="nav-link" data-scroll-target="#recommended-reading-viewing">Recommended Reading &amp; Viewing</a></li>
  <li><a href="#taking-the-next-steps" id="toc-taking-the-next-steps" class="nav-link" data-scroll-target="#taking-the-next-steps">Taking the next steps</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul class="collapse"><li><a href="https://github.com/libereurope/ds-essentials/blob/main/book/llms.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/libereurope/ds-essentials/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="understanding-large-language-models" class="level1 unnumbered">
<h1 class="unnumbered">Understanding Large Language Models</h1>
<blockquote class="blockquote">
<p>Contributor by: Nora McGregor, <a href="https://orcid.org/0000-0001-6560-5586">ORCID iD</a></p>
<p>Suggested Citation: Nora McGregor, “Understanding Large Language Models,” <em>Digital Scholarship &amp; Data Science Essentials for Library Professionals</em> (2024), [DOI link tbd]</p>
</blockquote>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>This Topic Guide, based on a Hack &amp; Yack delivered as part of the British Library’s Digital Scholarship Training Programme, offers a brief introduction to Large Language models (LLMS) by way of ChatGPT, as a means of demystifying both quickly. Through hands-on activities and case studies, we’ll explore potential challenges and opportunities for the use of LLMs and ChatGPT in current and future library services.</p>
<section id="what-are-large-language-models-llms" class="level3">
<h3 class="anchored" data-anchor-id="what-are-large-language-models-llms">What are Large Language Models (LLMs)?</h3>
<p>A large language model (LLM) is a type of <strong>machine learning model</strong> that can perform <strong>natural language processing</strong> tasks such as generating and classifying text, answering questions, and translating text.</p>
<p>If your eyes just crossed reading that sentence, no wonder, there’s a lot of terminology and jargon to unpack there in that one little sentence. Let’s go back a few steps and take it a little slower!</p>
<p>It helps to first understand a little bit about what machine learning is. <strong>Machine learning (ML)</strong> is a core technology that underpins a lot of work in artificial intelligence work today. Artificial intelligence is actually a broad field that encompasses the development of systems and machines capable of performing tasks that typically require human intelligence, such as reasoning, problem-solving, learning, and perception, and…chatting!</p>
<p><a href="https://en.wikipedia.org/wiki/Natural_language_processing"><strong><u>Natural Language Processing (NLP)</u></strong></a> is a specialised area within artificial intelligence (AI) that looks specifically at the challenges of processing and understanding human language (another is Computer Vision (CV) which is, on the other hand, concerned with helping computers process and understand imagery in the vein of human vision). NLP plays a vital role in enhancing the capabilities of AI systems by working to make them more capable of natural and effective interaction with humans.</p>
<p>NLP involves the development of algorithms, models, and systems for analysing, understanding and extracting meaningful information from textual data representing human language. The field relies heavily on the use of machine learning to make sense of our complex textual data, which might come from literature, historical documents, articles, twitter, wikipedia, you name it!</p>
<p>Machine learning involves the development of <u>algorithms</u> and <u>models</u> that allow computers to learn patterns and relationships from data and make predictions on new data. Instead of being explicitly programmed for specific tasks, ML algorithms use data to learn and improve their performance over time.</p>
<p>A <strong>machine learning algorithm</strong> is designed to recognize patterns, relationships, and trends in data and will adjust their internal parameters based on examples to improve their performance over time.</p>
<p>A <strong>machine learning model</strong> represents what was learned by a machine learning algorithm. The model that’s created in the process and saved after running a machine learning algorithm on training data and represents the rules, numbers, and any other algorithm-specific data structures required to make predictions on new data.</p>
<p>So back to our definition:</p>
<p>A large language model (LLM) is a type of <strong>machine learning model</strong> that can perform <strong>natural language processing</strong> tasks such as generating and classifying text, answering questions, and translating text.</p>
<p>Language models are a type of machine learning model designed to predict the likelihood of a sequence of text, which means that they can be set up to predict the most likely way to continue a conversation. The models behind ChatGPT are large, complex neural networks that have been exposed to an enormous amount of text from books, articles, websites, and more. These models have learned something about patterns in grammar and word meaning, including the way that meaning arises contextually across multiple sentences and multiple turns in a conversation. When you ask ChatGPT a question, you are presenting the model with new information it tries to make a prediction on, in this case, it tries to generate a response that matches the pattern of conversation. Large language models are trained on massive amounts of text data and are essentially the backbone of NLP today. There are and have been for many years, large language models out there actually but ChatGPT has currently caught the popular imagination because of its publicly available interface and remarkable performance.</p>
</section>
<section id="what-is-chatgpt" class="level3">
<h3 class="anchored" data-anchor-id="what-is-chatgpt">What is ChatGPT?</h3>
<p>ChatGPT is a platform providing an interface specifically to the large language models developed by OpenAI. The GPT stands for <a href="https://en.wikipedia.org/wiki/Generative_pre-trained_transformer"><u><strong>G</strong>enerative</u> <u><strong>P</strong>re-Trained</u> <u><strong>T</strong>ransformers</u></a> which is just a fancy way of saying that the models you are chatting with have already been trained on a lot of data.</p>
<p>It's a chatbot essentially designed to generate human-like text responses based on the input it receives. Or some say to think of it as a fancy predictive text generator. You ask questions or give prompts, and it provides responses in natural language, or rather, estimates what should come next in a conversation.</p>
<section id="what-chatgpt-is-not" class="level4">
<h4 class="anchored" data-anchor-id="what-chatgpt-is-not">What ChatGPT is NOT:</h4>
<ul>
<li><p><u>Google Search Box:</u> Unlike Google, ChatGPT doesn't search the internet for information. Instead, it generates responses based on a massive dataset it was trained on. This training dataset includes large segments of text sampled from the internet at a specific point in time, and so can reflect language describing content on the internet, but it doesn't have real-time access to the internet. When ChatGPT answers a question, it isn’t actually looking up information and then composing that information into a response; it's just making an estimation of a response based on patterns it has seen. So, when you ask it factual questions, especially ones with common answers or phrases, it might give you an answer that sounds right but remember this is because it’s mimicking what it has seen in its training data. Think of it perhaps as a very smart parrot, sometimes 'repeating' things it has seen before.</p></li>
<li><p><u>Human Mind</u>: ChatGPT is not a human; it's a machine learning model. It doesn't understand or reason like a human. It generates evidently linguistic responses based on patterns it learned from text data.</p></li>
</ul>
</section>
<section id="how-chatgpt-generates-responses" class="level4">
<h4 class="anchored" data-anchor-id="how-chatgpt-generates-responses">How ChatGPT Generates Responses:</h4>
<ul>
<li><p><u>Language Modelling</u>: So ChatGPT models are members of this class of models we’re talking about: “large language models” (LLMs). A machine learning model represents what was learned by a machine learning algorithm. The model is created and saved after running a machine learning algorithm on training data and represents the rules, numbers, and any other algorithm-specific data structures required to make predictions on new data. Language models are designed to predict the likelihood of a sequence of text, which means that they can be set up to predict the most likely way to continue a conversation. The models behind ChatGPT are large, complex neural networks that have been exposed to an enormous amount of text from books, articles, websites, and more. These models have learned something about patterns in grammar and word meaning, including the way that meaning arises contextually across multiple sentences and multiple turns in a conversation. When you ask ChatGPT a question, it tries to generate a response that matches these patterns.</p></li>
<li><p><u>Contextual Understanding</u>: ChatGPT also looks at the context of the question you ask, including what’s happened so far in your conversation and any instructions or details you offer about how it should respond. It tries to understand the context and generate a response that is contextually relevant, which can make its answers seem quite accurate.</p></li>
<li><p><u>Existing Knowledge:</u> It can recall and blend information it has observed in its training data. So, when you ask a factual question, it can sometimes generate a response that seems factual because it has encountered similar information during training. But, it can also make mistakes or provide information that is outdated or biassed because it doesn't have the ability to verify the accuracy of what it says, and it is influenced by any views inherent in its training data, whether they are right or wrong. It's like the parrot repeating something it heard: it can't check if what it's saying is true or up-to-date. That's why it's important to double-check information output by ChatGPT with reliable sources, especially when using ChatGPT for research or critical tasks.</p></li>
<li><p><u>User Feedback Loop</u>: ChatGPT models like the latest <a href="https://openai.com/gpt-4"><u>GPT-4 (openai.com)</u></a> have been tuned and improved over time with user feedback, as part of a model training process known as “reinforcement learning”. So for example, when users request things like python code, and try it out, users provide feedback on whether or not it worked. This feedback helps the model get better at generating code that is more likely to work.</p></li>
</ul>
</section>
<section id="when-best-to-use-chatgpt" class="level4">
<h4 class="anchored" data-anchor-id="when-best-to-use-chatgpt">When best to use ChatGPT:</h4>
<ul>
<li><p><u>Idea Generation</u>: ChatGPT can help brainstorm ideas for projects, essays, or creative endeavours. For example, you can ask it for ideas on new business ventures, book plots, or marketing campaigns.</p></li>
<li><p><u>Thesaurus and Rephrasing</u>: It's excellent for finding synonyms, rephrasing sentences, or improving the clarity of your writing. You can ask it to provide alternative words or rewrite a paragraph for better readability.</p></li>
<li><p><u>Creative Writing</u>: ChatGPT can assist with creative writing tasks, including writing short stories, poems, or generating dialogues for characters.</p></li>
<li><p><u>Some Learning and Explanation</u>: It can provide explanations and answers to questions on a wide range of very general topics, making it useful for learning new concepts or understanding complex ideas. But again, always best to double check against other trusted resources.</p></li>
<li><p><u>Language Translation</u>: ChatGPT can offer some basic translation assistance, such as translating phrases or short sentences between languages.</p></li>
<li><p><u>Generating code snippets</u>: It may not produce highly complex or critical code reliably but you can use it as a starting point for some common coding tasks.</p></li>
</ul>
<!-- -->
<ul>
<li><u>Querying structured data</u>: ChatGPT can provide outputs in the form of data structures including for instance SQL queries and JSON. So for instance if we have an SQL database with information about the content of a corpus, we can prompt ChatGPT to output queries that would apply to that database. We can then begin to imagine an interface where a non-expert user could make such a query using their own natural language, and ChatGPT could provide a connection with the structured data. This is sometimes referred to as “function calling” in the ChatGPT literature.</li>
</ul>
</section>
</section>
</section>
<section id="relevance-to-the-library-sector-large-language-models-llm-and-chatgpt-uses-in-libraries-today" class="level2">
<h2 class="anchored" data-anchor-id="relevance-to-the-library-sector-large-language-models-llm-and-chatgpt-uses-in-libraries-today">Relevance to the Library Sector: Large Language Models (LLM) and ChatGPT Uses in Libraries Today</h2>
<p>[Need to work on this section with written examples/more narrative around opportunities and challenges]</p>
<ul>
<li><p><a href="https://gbr01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.choice360.org%2Flibtech-insight%2Fa-tech-librarian-explains-how-to-build-ai-literacy%2F&amp;data=05%7C01%7C%7C1f30c2a911b14fcc476808dba26c1fbf%7C21a44cb7f9c34f009afabd1e8e88bcd9%7C0%7C0%7C638282357483855585%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=lLNhYHaFN8MNhZCV6J%2FqYBnvj7Ja7lkTbekS18dwTUY%3D&amp;reserved=0"><u>A Tech Librarian Explains How to Build AI Literacy - Choice 360</u></a></p></li>
<li><p><a href="https://crln.acrl.org/index.php/crlnews/article/view/25821/33770"><u>ChatGPT: Implications for academic libraries | Cox | College &amp; Research Libraries News (acrl.org)</u></a></p></li>
<li><p><a href="https://thisismattmiller.com/post/using-gpt-on-library-collections/"><u>Using GPT on Library Collections</u></a> (Matt Miller)</p></li>
<li><p><a href="https://gbr01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fprogramminghistorian.org%2Fen%2Flessons%2Finterrogating-national-narrative-gpt&amp;data=05%7C01%7C%7C248b64ef15f24804d9f108dbb3b32d6f%7C21a44cb7f9c34f009afabd1e8e88bcd9%7C0%7C0%7C638301354362697282%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=Y22gBCRJru2c%2BywzxeWzqk%2F2oJKrXq3MyUQQnezS7F0%3D&amp;reserved=0"><u>https://programminghistorian.org/en/lessons/interrogating-national-narrative-gpt</u></a></p></li>
</ul>
</section>
<section id="hands-on-activity-and-other-self-guided-tutorials" class="level2">
<h2 class="anchored" data-anchor-id="hands-on-activity-and-other-self-guided-tutorials">Hands-on activity and other self-guided tutorial(s)</h2>
<p>The following activity was delivered to British Library staff as part of a monthly Hack &amp; Yack.</p>
<section id="getting-started" class="level3">
<h3 class="anchored" data-anchor-id="getting-started">Getting started</h3>
<p>For this activity we’ll primarily use the freely available <a href="https://openai.com/chatgpt"><u>ChatGPT (openai.com)</u></a> interface. For this you’ll need to have a free google account.</p>
</section>
<section id="first-a-word-on-writing-prompts" class="level3">
<h3 class="anchored" data-anchor-id="first-a-word-on-writing-prompts">First, a word on writing prompts</h3>
<p>To get a useful response from ChatGPT, “prompting” is key. If you only ask a simple question, you may not be happy with the results and decide to dismiss the technology too quickly, but today’s purpose is to have a deeper play in order to develop our critical thinking and information evaluation skills, allowing us to make informed decisions about utilising tools like ChatGPT in our endeavours.</p>
<p>Some best practices for writing a good prompt (helpful hints/tips gleaned from the suggested readings in this guide):</p>
<ul>
<li><p>Give the context. The more you explain the ins and outs of what you want ChatGPT to do, the more relevant your answer will be. For example, “You are an expert in [fill in the blank for your topic].”</p></li>
<li><p>Be very specific and concrete about what you want it to do (and equally, what you don’t want it to do). For instance you may want to specify word count, how many items you’d like in a list, tone of voice, etc.</p></li>
<li><p>Give clear instructions on what the output should look like, and be simple and concise in your language.</p></li>
<li><p>Provide examples. Much like a human, ChatGPT often understands best when you provide an example for it to work with, especially if you want it to produce something that closely resembles something you’ve seen online.</p></li>
<li><p>Ask ChatGPT to “act like” someone: Sometimes, it can help to start your prompt by asking ChatGPT to “act like” a certain type of person that would be particularly well-placed to respond to the query you're posing.</p></li>
</ul>
<p>If you’re not satisfied with any part of the answer, you can keep building on it, asking ChatGPT to revise it in any way you like as it will continue on from previous enquiries in a session. (If you’d rather it not do that you can add “Please ignore all previous instructions” to start a prompt fresh). To learn more about prompting, there is a free online course: <a href="https://learnprompting.org/"><u>Learn Prompting</u></a>.</p>
</section>
<section id="exploratory-activities" class="level3">
<h3 class="anchored" data-anchor-id="exploratory-activities">Exploratory activities:</h3>
<ul>
<li><p>Have a play generating responses to some of the below questions (or come up with your own)!</p></li>
<li><p>Critically evaluate the responses you receive from ChatGPT.</p>
<ul>
<li><p>Is the information/response credible?</p></li>
<li><p>Are there any biases in the responses?</p></li>
<li><p>Does the information align with what you know from other sources?</p></li>
</ul></li>
<li><p>Consider your findings, the strengths and weaknesses, ethical considerations and challenges of using AI tools such as this.</p></li>
</ul>
<table class="caption-top table">
<thead>
<tr class="header">
<th><strong>Try this….</strong></th>
<th>**Example Prompts</th>
<th><strong>Further considerations/Notes</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ask ChatGPT to create a title for a new exhibition</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Ask ChatGPT to create an exhibition label for items in an exhibition</td>
<td>“Write an exhibition label for this archived website http://moorfootru nners.blogspot.co.uk/”</td>
<td></td>
</tr>
<tr class="odd">
<td>Ask ChatGPT to create a blog post on a topic for which you are very familiar</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Ask ChatGPT to help you come up with ideas for teaching</td>
<td><p><mark>Try something like this:</mark></p>
<p><em>“You are an academic librarian focusing on instruction. Please make an outline of important topics to cover for a classroom lecture on ChatGPT. This will be part of a series of instruction sessions about information literacy. You have already worked with this class on the basic concepts of information literacy. Create the outline as a bulleted list and follow it with a classroom activity based on one of the topics you’ve discussed about ChatGPT.”</em></p>
<p>From: <a href="https:%20//gbr01.safelinks.prot%20ection.outlook.com/?ur%20l=https%3A%2F%2Fwww.ch%20oice360.org%2Flibtech-%20insight%2Fa-tech-libra%20rian-explains-how-to-b%20uild-ai-literacy%2F&amp;da%20ta=05%7C01%7C%7C1f30c2%20a911b14fcc476808dba26c%201fbf%7C21a44cb7f9c34f0%2009afabd1e8e88bcd9%7C0%%207C0%7C6382823574838555%2085%7CUnknown%7CTWFpbGZ%20sb3d8eyJWIjoiMC4wLjAwM%20DAiLCJQIjoiV2luMzIiLCJ%20BTiI6Ik1haWwiLCJXVCI6M%20n0%3D%7C3000%7C%7C%7C&amp;%20sdata=lLNhYHaFN8MNhZCV%206J%2FqYBnvj7Ja7lkTbekS%2018dwTUY%3D&amp;reserved=0"><u>A Tech Librarian Explains How to Build AI Literacy - Choice 36 0</u></a></p></td>
<td><p>When you get the results, you can then ask it to give you an additional activity or set of activities on the same topic.</p>
<p>Have a play around with different training subject areas.</p></td>
</tr>
<tr class="odd">
<td>Ask ChatGPT to write a bio for yourself, providing it with details for instance as a list of facts about you</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Ask ChatGPT to Act as a Translator</td>
<td><p><mark>Try something like this:</mark></p>
<p><em><mark>“I want you to act as an English translator, spelling corrector and improver. I will speak to you in any language and you will detect the language, translate it and answer in the corrected and improved version of my text, in English. I want you to replace my simplified A0-level words and sentences with more beautiful and elegant, upper level English words and sentences. Keep the meaning same, but make them more literary. I want you to only reply the correction, the improvements and nothing else, do not write explanations. My first sentence is”istanbulu cok seviyom burada olmak cok guzel”</mark></em></p>
<p>From: <a href="https://prompts.chat%20/#act-as-an-english-tr%20anslator-and-improver"><u>Awesome ChatGPT Prompts | This repo includes ChatGPT prompt curation to use ChatGPT better.</u></a> <mark></mark></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Ask ChatGPT to create an outline for a PowerPoint presentation</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Ask ChatGPT to extract metadata from a provided text</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Ask ChatGPT to write a query for a suppositional SQL database that you describe</td>
<td><p><em>“We have an SQL database with the following tables: 'books' and 'authors'. The 'books' table has columns 'title', 'date', and 'topic'. The 'authors' table has columns 'name', 'birth_date', 'death_date', and 'gender'. I'm going to write some questions about things in this database, and I would like you to respond with SQL queries that would find the information I'm asking about.”</em></p>
<p><em>RESPONSE: “Of course! Feel free to ask any questions you have about the database, and I'll provide you with SQL queries to retrieve the information you need. Please go ahead and ask your questions.”</em></p>
<p><em>INPUT: “I'd like to find books about the second world war written by women born after the war ended.”</em></p>
<p><em>RESPONSE: “To find books about the Second World War written by women born after the war ended, you can use the following SQL query:”</em></p>
<p><em>SELECT b.title, b.date, a.name</em></p>
<p><em>FROM books b</em></p>
<p><em>JOIN authors a ON b.author_id = a.author_id</em></p>
<p><em>WHERE b.topic = 'Second World War'</em></p>
<p><em>AND YEAR(a.birth_date) &gt; 1945</em></p>
<p><em>AND a.gender = 'female';</em></p></td>
<td></td>
</tr>
<tr class="even">
<td>Have a look at this project Matt Miller did experimenting with <a href="https://thisis%20mattmiller.com/pos%20t/using-gpt-on-lib%20rary-collections/">[Using GPT on Library Collections (thisismattmill er.com)]{.underlin e}</a></td>
<td><p><em>“You are a helpful assistant that is summarizing and extracting data from a journal written by Susan B. Anthony in {RECORD_DATE_HERE}. You only answer using the text</em></p>
<p><em>given to you. You do not make-up additional information, the answer has to be contained in the text provided to you. Each page is a diary entry or financial bookkeeping. You will structure your answer in valid JSON, if there are any quote marks in the content escape them as ".”</em></p>
<p><em>“If the following text contains multiple journal entries, extract each one into an array of valid JSON dictionaries. Each dictionary represents one of the entries, extract the date and</em></p>
<p><em>the date again in the format yyyy-mm-dd and the city or state it was written in and other geographical locations mentioned that entry and people mentioned that entry and the complete</em></p>
<p><em>full text of the entry and a one sentence summary of the text, using the JSON keys dateText, dateFormated, cityOrState, geographicalLocations, people, fullText, summaryText: {FULL_TEXT_HERE}“</em></p></td>
<td>Thinking about this project, could you think of a similar collection that you might be able to experiment with to parse data similarly? How might you like to re-write the prompt for your own project?</td>
</tr>
<tr class="odd">
<td>Try to use it to create social media posts</td>
<td><em>There is a new network called CHOSN for those working in Galleries-Libr aries-Archives-Museums (GLAM) and cultural heritage organisations as research support and research-active staff. This network is a community of practice for research support and research-active staff who work in GLAM organisations interested in developing and sharing open scholarship knowledge and skills, organising events, and supporting each other in this area. Can you write social media post for 140 character to announce this network and call people to join in?</em></td>
<td></td>
</tr>
<tr class="even">
<td>PROMPT: Act as a librarian advising a history student in the UK doing research into the third plague pandemic in India during the early 20th century. What archival resources could they use?</td>
<td><p><em>RESPONSE: Certainly! If you're a history student in the UK researching the Third Plague Pandemic in India during the early 20th century, there are several archival resources you can explore to enhance your research. These archives will provide you with primary sources, documents, and historical records that can help you gain a deeper understanding of this important historical event. Here are some key archival resources to consider:</em></p>
<p><em>1. **The National Archives (TNA) of the United Kingdom**:</em></p>
<p><em>- TNA holds records related to British colonial administration in India during the early 20th century. Look for documents related to public health, sanitation, and official correspondence about the plague.</em></p>
<p><em>2. **The India Office Records**:</em></p>
<p><em>- These records are part of the British Library's holdings and contain a wealth of information on India during the colonial period. You can find reports, letters, and administrative documents related to the Third Plague Pandemic.</em></p>
<p><em>3. **The British Library**:</em></p>
<p><em>- The British Library has a substantial collection of materials related to India, including newspapers, periodicals, and publications from that era. You can find newspaper articles, books, and reports that discuss the plague's impact in India.</em></p>
<p><em>4. **The Wellcome Collection**:</em></p>
<p><em>- The Wellcome Collection in London has an extensive library and archive of materials related to the history of medicine. You may find documents, photographs, and medical reports pertaining to the plague in India.</em></p>
<p><em>5. **Local Archives in India**:</em></p>
<p><em>- Depending on your specific focus within India, you should also explore local archives and libraries. For example, the National Archives of India in Delhi and state archives may have valuable records.</em></p>
<p><em>6. **Digital Collections**:</em></p>
<p><em>- Many institutions, including the British Library and the Wellcome Collection, have digitized collections that you can access online. These digital resources can be very helpful for remote research.</em></p>
<p><em>7. **University Libraries**:</em></p>
<p><em>- Don't forget to check with your university's library. They may have subscriptions to digital archives and databases that can provide access to primary source materials and scholarly articles related to the Third Plague Pandemic in India.</em></p>
<p><em>8. **Academic Journals**:</em></p>
<p><em>- Look for scholarly articles in history and medical history journals. JSTOR and other academic databases can be valuable for finding secondary sources and research papers.</em></p>
<p><em>9. **Interlibrary Loan Services**:</em></p>
<p><em>- If you find a source or book that's not available in your university's library, you can request it through interlibrary loan services. This expands your access to materials from other institutions.</em></p>
<p><em>10. **Archival Finding Aids**:</em></p>
<p><em>- Be sure to use finding aids and catalog search tools provided by these institutions to locate specific documents and records related to the Third Plague Pandemic.</em></p>
<p><em>Remember to take thorough notes, document your sources meticulously, and consult with your professors or advisors for guidance throughout your research process. Good luck with your research into this important historical topic!</em></p></td>
<td></td>
</tr>
<tr class="odd">
<td>PROMPT: Act as an archivist producing a catalogue record for an archival document. What subject, place and name authorities or terms would you choose for the following text? [gave it c50% of the full text transcription of IO R/F/4/1754/71645]</td>
<td><p><em>RESPONSE: Here's a suggested catalog record for the provided archival document, along with subject, place, and name authorities/terms:</em></p>
<p><em>Title: Development of Hemp Cultivation for Cordage Manufacturing</em></p>
<p><em>Author: [Author's Name if available]</em></p>
<p><em>Date: [Date of the Document, if available]</em></p>
<p><em>Description:</em></p>
<p><em>This archival document explores the historical development of hemp cultivation for cordage (rope) production, emphasizing its critical importance for mechanical purposes and ship rigging during the 19th century. It discusses the transition from skin and leather ropes to vegetable fiber, particularly hemp, and the widespread cultivation and commerce of hemp in various nations. The document highlights the vital role of hemp during wartime and its impact on British shipping during supply disruptions. Additionally, it underscores the attention given to hemp cultivation in India and its various applications, focusing on the Cannabis Sativa plant.</em></p>
<p><em>Subjects:</em></p>
<p><em>Cordage Industry</em></p>
<p><em>Hemp Cultivation</em></p>
<p><em>Rope Manufacturing</em></p>
<p><em>Ship Rigging</em></p>
<p><em>Hemp Fiber</em></p>
<p><em>Agriculture in India</em></p>
<p><em>Colonial Agriculture</em></p>
<p><em>International Commerce</em></p>
<p><em>War Supply Chains</em></p>
<p><em>Mechanical Engineering</em></p>
<p><em>Fiber Plants</em></p>
<p><em>Places:</em></p>
<p><em>United Kingdom</em></p>
<p><em>India</em></p>
<p><em>North America</em></p>
<p><em>Russia</em></p>
<p><em>Arabia</em></p>
<p><em>Persia</em></p>
<p><em>China</em></p>
<p><em>Egypt</em></p>
<p><em>Turkey</em></p>
<p><em>Europe</em></p>
<p><em>Asia</em></p>
<p><em>Names:</em></p>
<p><em>Alexandre Yersin (if mentioned as the author or contributor)</em></p>
<p><em>Dr.&nbsp;Roxburgh (for his contributions to hemp cultivation in India)</em></p>
<p><em>Notes:</em></p>
<p><em>This document provides historical insights into the cultivation of hemp for cordage and its significance in various regions during the 19th century, with a focus on its mechanical properties and wartime importance.</em></p>
<p><em>Please note that the specific author and date of the document were not provided in the text you provided. If this information is available, it should be included in the catalog record. Additionally, you may need to consult relevant authority files or controlled vocabularies to ensure accuracy in subject, place, and name authorities.</em></p></td>
<td><p>COMMENT: The inclusion of Yersin as a suggested authority is interesting / worrying, as he had cropped up in an answer to a previous question, and I had told it to disregard all of the previous conversation data before posting the cataloguing prompt…</p>
<p>In terms of indexing, it included a lot of incidental references in the text which a cataloguer would not include as subject or place index terms [should flag at this point that I did not write the BL’s catalogue entry for this]]</p>
<p>I should really give it the full text before judging the description…</p></td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="recommended-reading-viewing" class="level2">
<h2 class="anchored" data-anchor-id="recommended-reading-viewing">Recommended Reading &amp; Viewing</h2>
<ul>
<li><p><a href="https://tech.co/news/best-chatgpt-prompts"><u>40 Best ChatGPT Prompts You Simply Have To Try in 2023 (tech.co)</u></a></p></li>
<li><p><a href="https://gbr01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.choice360.org%2Flibtech-insight%2Fa-tech-librarian-explains-how-to-build-ai-literacy%2F&amp;data=05%7C01%7C%7C1f30c2a911b14fcc476808dba26c1fbf%7C21a44cb7f9c34f009afabd1e8e88bcd9%7C0%7C0%7C638282357483855585%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=lLNhYHaFN8MNhZCV6J%2FqYBnvj7Ja7lkTbekS18dwTUY%3D&amp;reserved=0"><u>A Tech Librarian Explains How to Build AI Literacy - Choice 360</u></a></p></li>
<li><p><a href="https://crln.acrl.org/index.php/crlnews/article/view/25821/33770"><u>ChatGPT: Implications for academic libraries | Cox | College &amp; Research Libraries News (acrl.org)</u></a></p></li>
<li><p><a href="https://thisismattmiller.com/post/using-gpt-on-library-collections/"><u>Using GPT on Library Collections</u></a> (Matt Miller)</p></li>
<li><p><a href="https://gbr01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fprogramminghistorian.org%2Fen%2Flessons%2Finterrogating-national-narrative-gpt&amp;data=05%7C01%7C%7C248b64ef15f24804d9f108dbb3b32d6f%7C21a44cb7f9c34f009afabd1e8e88bcd9%7C0%7C0%7C638301354362697282%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=Y22gBCRJru2c%2BywzxeWzqk%2F2oJKrXq3MyUQQnezS7F0%3D&amp;reserved=0"><u>https://programminghistorian.org/en/lessons/interrogating-national-narrative-gpt</u></a></p></li>
<li><p><a href="https://learnprompting.org/docs/intro"><u>Welcome | Learn Prompting: Your Guide to Communicating with AI</u></a></p></li>
</ul>
</section>
<section id="taking-the-next-steps" class="level2">
<h2 class="anchored" data-anchor-id="taking-the-next-steps">Taking the next steps</h2>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/libereurope\.github\.io\/ds-essentials\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>A 2023-2027 <a href="https://libereurope.eu/working-groups">LIBER Working Group</a> collaboration between <a href="https://libereurope.eu/working-group/digital-scholarship-and-digital-cultural-heritage-collections-working-group/">Digital Scholarship and Digital Cultural Heritage </a> and <a href="https://libereurope.eu/working-group/liber-data-science-in-libraries-working-group/">Data Science in Libraries</a></p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/libereurope/ds-essentials/blob/main/book/llms.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/libereurope/ds-essentials/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/noramcgregor/ds-essentials">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>